% Bsp. eines Hauptteils

\chapter{Sensors and limits}
\label{sec:sensor}
This chapter is about the sensors we use and their maximum and minimum borders. Compared with the physical needed values, we try to realize a autonomous flight.

The sensors will be connected to a Raspberry Pi Board mounted on a Quadrocopter (HElicopter).


\section{Analog- Digital Converter}
\label{sec:adc}

Used Model: Adafruit ADS1015\\

\begin{figure}[H]
	\centering
		\includegraphics{fig/ch-sensor-overview/ADS1115_example.png}%[width=1.0\textwidth]
	\label{fig:IMU_Gyro}
	\caption{Example of ADC, ADS1115}
\end{figure}

Resolution: 12 Bits\\
Programmable Sample Rate: 128 to 3300 Samples/Second\\
Power Supply/Logic Levels: 2.0V to 5.5V\\
Low Current Consumption: Continuous Mode: Only 150µA Single-Shot Mode: Auto Shut-Down\\
Internal Low-Drift Voltage Reference\\
Internal Oscillator\\
Internal PGA: up to x16\\
I2C Interface: 4-Pin-Selectable Addresses\\
Four Single-Ended or 2 Differential Inputs\\
Programmable Comparator\\




\section{Infrared Analog Distance Sensor}
\label{sec:infra}

\begin{figure}[H]
	\centering
		\includegraphics{fig/ch-sensor-overview/IR_PololuCarrier}%[width=1.0\textwidth]
	\label{fig:IMU_Gyro}
	\caption{IR Sensor on Carrier Board}
\end{figure}

Mounted IR Modul: Sharp GP2Y0A60SZLF\\

\begin{enumerate}
	\item Distance measuring sensor is united with PSD, infrared LED and signal processing circuit.
\item Distance measuring range : 10 to 150 cm 
\item Compact size (22.0 × 8.0 × 7.2mm) 
\item  Long distance measuring type 
        (No external control signal required) 
\item  Analog output type 
\item  Update time: 16.5ms ± 3.7ms 
\end{enumerate}






\section{GPS}
\label{sec:gps}

\begin{figure}[H]
	\centering
		\includegraphics[width=0.6\textwidth]{fig/ch-sensor-overview/Adafruit_GPSHAT}%
	\label{fig:GPSHAT}
	\caption{Adafruit GPS Hat}
\end{figure}

\begin{figure}[H]
	\centering
		\includegraphics{fig/ch-sensor-overview/GPS_modul}%[width=1.0\textwidth]
	\label{fig:GPSModul}
	\caption{GPS modul}
\end{figure}


- Built-in 15x15x2.5mm ceramic patch antenna on the top of module \\
- Ultra-High Sensitivity: -165dBm (w/o patch antenna), up to 45dB C/N of SVs in open sky reception. \\
- High Update Rate: up to 10Hz (note1)\\
- 12 multi-tone active interference canceller (note2)\\
 %[ISSCC 2011 Award -Section 26.5] 
%(http://isscc.org/doc/2011/isscc2011.advanceprogrambooklet_abstracts.pdf ) \\
- High accuracy 1-PPS timing support for Timing Applications (10ns jitter) \\
- AGPS Support for Fast TTFF ("`EPO"' Enable  7 days/14 days ) \\
%"`EASY"' (note2)\\
- Self-Generated Orbit Prediction for instant positioning fix  \\
- "`AlwaysLocate"' (note2)\\
- Intelligent Algorithm (Advance Power Periodic Mode) for power saving \\
- Logger function Embedded (note2)\\
- Automatic antenna switching function \\
- Antenna Advisor function \\
- Gtop Firmware Customization Services \\
- Consumption current(@3.3V): \\
  Acquisition: 25mA Typical \\
  Tracking: 20mA Typical \\
- E911, RoHS, REACH compliant \\

note 1:  SBAS can only be enabled when update rate is less than or equal to 5Hz. \\
note2: Some features need special firmware or command programmed by customer, please 
refer to G-top "`GPS command List"' 


%\newpage
\section{Inertia Measurement Unit (IMU)}
\label{sec:IMU}

\begin{figure}[H]
	\centering
		\includegraphics[width=0.6\textwidth]{fig/ch-sensor-overview/Pololu_AltIMU}
	\label{fig:IMU_Gyro}
	\caption{Inertia Measurement Unit}
\end{figure}
Model: Pololu AltIMU

\subsection{3D accelerometer and 3D magnetometer module}
\label{sec:IMU1}

Features\\
- 3 magnetic field channels and 3 acceleration channels\\
- ±2/±4/±8/±12 gauss dynamically selectable magnetic full-scale\\
- ±2/±4/±6/±8/±16 g dynamically selectable linear acceleration full-scale\\
- 16-bit data output\\
- SPI / I2C serial interfaces\\
- Analog supply voltage 2.16 V to 3.6 V\\
- Power-down mode / low-power mode\\
- Programmable interrupt generators for free-
fall, motion detection and magnetic field 
detection\\
- Embedded temperature sensor\\
- Embedded FIFO\\
%- ECOPACK®\\
%- RoHS and "`Green"' compliant\\

Working of an accelerometer:
The accelerometer is a small MEMS, that works on the principle of force acting on the MEMS.
The micro springs attached to a piezoelectric component induces electricity in a capacitor.
The output voltage is the measure of how strong the microsprings were pushed or pulled.
One can think of an elevator where the mass reduces when the elevator is going down and hence
the person inside the elevator can feel that the elevator is accelerating downwards.
Hence, the basic principle of operation behind the MEMS accelerometer is the displacement of 
a small proof mass etched into the silicon surface of the integrated circuit and suspended by small beams.

\subsection{MEMS pressure sensor}
\label{sec:IMU2}

Features\\
- 260 to 1260 mbar absolute pressure range\\
- High-resolution mode: 0.020 mbar RMS\\
- Low power consumption:\\
- Low resolution mode: 5.5 uA\\
- High resolution mode: 30 uA\\
- High overpressure capability: 20x full scale\\
- Embedded temperature compensation\\
- Embedded 24-bit ADC\\
- Selectable ODR from 1 Hz to 25 Hz\\
- SPI and I2C interfaces\\
- Supply voltage: 1.71 to 3.6 V\\
- High shock survivability: 10,000 g\\
- Small and thin package\\
%- "ECOPACK"\\
 lead-free compliant

%\newpage
\subsection{MEMS motion sensor: three-axis digital output gyroscope}
\label{sec:IMU3}

Features\\
- Wide supply voltage, 2.2 V to 3.6 V\\
- Wide extended operating temperature range \\
(from -40 °C to 85 °C)\\
- Low voltage compatible IOs, 1.8 V\\
- Low power consumption\\
- Embedded power-down\\
- Sleep mode\\
- Fast turn-on and wake-up\\
- Three selectable full scales up to 2000 dps\\
- 16 bit rate value data output\\
- 8 bit temperature data output\\
- I2C/SPI digital output interface\\
- 2 dedicated lines (1 interrupt, 1 data ready)\\
- User enable integrated high-pass filters\\
- Embedded temperature sensor\\
- Embedded 32 levels of 16 bit data output FIFO\\
- High shock survivability\\
%- "ECOPACK" RoHS and "`Green"' compliant\\


\section{LIDAR-Lite Laser Ranging Module}
\label{sec:laser}

\begin{figure}[H]
	\centering
		\includegraphics{fig/ch-sensor-overview/LIDAR_Laser}%[width=0.6\textwidth]
	\label{fig:lidarlaser}
	\caption{PULSEDLIGHT LIDAR Laser Sensor}
\end{figure}


Model LL-905-PIN-01\\

\underline{Performance}\\
Range: 0-20m LED Emitter\\
Range: 0-60m Laser Emitterv (at full sunlight: 40m)\\
Accuracy:  +/- 0.025m\\
Power: 5vdc, <100ma \\
Acquisition Time: < 0.02 sec\\
Rep Rate: 1-100Hz\\

\underline{Spread}\\
At very close distances (less than a meter) the beam is about the size of the aperture (lens), at distances longer than that you can estimate it using this equation: 

Distance/100 = beam size at that distance (in whatever units you measured distance in). 

The actual spread is ~8 milli-radians or ~1/2 degree. 


\underline{Configurations}\\
- LED/PIN Diode, No Optics\\
- LED/PIN Diode, 12mm Optics\\
- Laser/PIN Diode 14mm Optics\\
(Class 1 Laser Product)\\


\underline{Interface}\\
- I2C\\
- PWM\\


\underline{General	Technical Specifications}

Power	4.75 - 5.5V DC Nominal, Maximum 6V DC\\
Weight	PCB 4.5 grams, Module 22 grams with optics and housing\\
Size	PCB 44.5 X 16.5mm (1.75" by .65")\\
Housing	 20 X 48 X 40mm (.8" X 1.9" X 1.6")\\
Current Consumption	  <2mA @ 1Hz (shutdown between measurements), <100mA (continuous operation)\\
Max Operating Temp.	 70° C\\
External Trigger	3.3V logic, high-low edge triggered\\
PWM Range Output	PWM (Pulse Width Modulation) signal proportional to range, 1msec\/meter, 10µsec step size\\
I2C Machine Interface	100Kb - Fixed, 0xC4 slave address. Internal register access \& control.\\
Supported I2C Commands	Single distance measurement, velocity, signal strength\\
Mode Control	Busy status using I2C, External Trigger input \/ PWM outputs\\
Max Range under typical conditions aprox. 40m \\
Accuracy	+/- 2.5cm, or +/- ~1" \\
Default Rep Rate	aprox. 50 Hz. \\

\underline{Laser Parameters}

Wavelength: 905 nm (nominal)\\
Total Laser Power - Peak:  1.3 Watts\\
Mode of operation: Pulse (max pulse train 256 pulses)\\
Pulse Width:  0.5 uSec (50\% duty Cycle)\\
Pulse Repetition Frequency: 10-20 KHz nominal\\
Energy per Pulse:  <280 nJ\\
Beam Diameter at laser aperture:  12 mm x 2 mm\\
Divergence: 4 m Radian x 2 m Radian (Approx)\\



%\newpage
\underline{Innovation Summary}

\begin{itemize}  %Muss noch gekürzt werden!!
	\item  The use of a signature matching technique (known  as  signal  correlation) that estimates time delay by electronically sliding a stored transmit reference over the received signal in order to find the best match.
	
\item Operation of the infrared LED or laser in short bursts allowing a 100:1 advantage in peak output power over measurement systems using a continuous beam.  

\item Decreased measurement times down to a millisecond or less allows significant power  
consumption advantages and high repetition rates for scanning applications.  

\item We have developed novel current driver technology with nanosecond signal transition  times at high peak currents to produce high power transmit burst sequences.  

\item Our signal processing approach is implementable in a single programmable logic chip or System-on-Chip (SoC) to allow deployment without the costly development of custom processing chips.  

%\item For high-volume, low margin applications the SoC solution enables technology implementation of less than ten dollars.    

\item Detector switching technology allows multiple detectors to be processed by a single signal-processing channel. Enabling compact multichannel systems deployable in under one square inch of board space.  

\item Multiple digital processing cores implementable in a single cost effective programmable logic chip.

\item Optical scanner technology to multiply low-resolution electronic scanning to higher resolutions.  

\end{itemize}
Source: Data sheet

\subsection{Technology}
\label{sec:lasTech}

PulsedLight`s "Time-of-flight" distance measurement technology is based on the precise measurement of the time delay between the transmission of an optical signal and its reception.  The patented, high accuracy measurement technique enables distance measurement accuracy down to 1 cm by the digitization and averaging of two signals; a reference signal fed from the transmitter prior to the distance measurement and a received signal reflected from the target. The time delay between these two stored signals is estimated through a signal processing approach known as correlation, which effectively provides a signature match between these two closely related signals. The correlation algorithm accurately calculates the time delay, which is translated into distance based on the known speed-of-light.  A benefit of PulsedLight`s approach is the efficient averaging of low-level signals enabling the use of relatively low power optical sources, such as LEDs or VCSEL (Vertical-Cavity Surface-Emitting) lasers, for shorter-range applications and increased range capability when using high power optical sources such as pulsed laser diodes. \\

Source: LidarLite Operating Manual\\


\subsection{possible measurement problems}
\label{sec:lasprob}

When the LIDAR-Lite unit sometime unexpected results, first think about these points:\\

There are several variables to consider if your LIDAR-Lite fails to return a valid measurement or seems not to recognize an object at all. These can be categorized into the following areas:\\

A. Reflectivity of the object\\
B. Distance of the object from the sensor\\
C. Size of the object relative to the transmitted infrared beam\\
D. Direct or reflected sunlight finding its way into the receiver\\
E. Atmospheric conditions\\
F. Obstruction of the receiver lens\\
F. Failure of the LIDAR-Lite unit\\

We'll consider reflectivity here:\\

Reflectivity\\

Reflective characteristics of an object's surface can be divided into three categories (in the real world, a combination of characteristics is typically present):\\
A. Diffuse Reflective\\
B. Specular, and\\
C. Retro-reflective\\

Diffuse Reflective

In the case of purely diffuse surfaces, we are talking about materials that have a textured quality that causes reflected energy to disperse uniformly. This tendency results in a relatively predictable percentage of the dispersed laser energy finding its way back to the LIDAR-Lite receiver. As a result, these materials tend to read very well. Materials that fall into this category are paper, matte walls, and granite. It is important to note that materials that fit into this category due to observed reflection at visible light wavelengths may exhibit unexpected results in other wavelengths. The near infrared range used by the LIDAR-Lite transmitter may detect them as nearly identical. A case in point is a black sheet of paper may reflect a nearly identical percentage of the infrared signal back to the receiver as a white sheet. \\

%%% BILD Diffuse Reflective


Specular

Specular surfaces, on the other hand, are difficult or impossible for the LIDAR-Lite to recognize because radiated energy is not dispersed. Reflections off of specular surfaces tend to reflect with little dispersion which causes the reflected beam to remain small and, if not reflected directly back to the receiver, to miss the receiver altogether. The LIDAR-Lite may fail to detect a specular object in front of it unless viewed from the normal.  Examples of specular surfaces are mirrors and glass viewed off-axis.\\

%%%% BILD Diffuse Specular



Retro-reflective

Retro-reflective surfaces return a very high percentage of radiated energy to the receiver due to their reflective properties. Light hitting a retro-reflective surface will return to the receiver without much signal loss so retro-reflective surfaces are typically very good targets for the LIDAR-Lite. Paint used to mark roadways, animals' eyes, license plates and road signs are examples of retro-reflective surfaces. Some bicycle reflectors are retro-reflective in the visible spectrum but are not easily detected by LIDAR-Lite due, in part, to their failure to reflect infrared wavelengths as efficiently as they do light in the visible spectrum.\\


%\section{Literaturverweise}
%\label{sec:real-literatur}
%
%Verweise im Text: \cite{doc:stz} und \cite{doc:gun}.
%
%\chapter{Ergebnisse}
%\label{sec:ergeb}
%\enquote{Neuigkeiten} Messergebnisse
